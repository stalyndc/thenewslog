{% extends 'layout.twig' %}

{% set current_nav = 'editions' %}

{% block title %}Past Editions â€” The News Log{% endblock %}

{% block content %}
<section class="card card--edition">
    <header class="card__header">
        <div class="badge">Edition Archive</div>
        <h2>Past Daily Editions</h2>
    </header>

    {% if editions %}
        <ul class="edition-list" id="edition-list" data-editions-current="{{ page }}" data-editions-total="{{ total_pages }}">
            {% include 'partials/edition_items.twig' with {
                editions: editions,
                next_page: next_page,
                total_pages: total_pages
            } %}
        </ul>

        {% if total_pages > 1 %}
            <nav class="pagination pagination--fallback">
                {% if page > 1 %}
                    <a class="pagination__link" href="?page={{ page - 1 }}">Previous</a>
                {% endif %}
                <span class="pagination__status">Page {{ page }} of {{ total_pages }}</span>
                {% if page < total_pages %}
                    <a class="pagination__link" href="?page={{ page + 1 }}">Next</a>
                {% endif %}
            </nav>
        {% endif %}
    {% else %}
        <div class="empty-state">
            <p>No published editions yet. Curate and publish the first one to populate this archive.</p>
        </div>
    {% endif %}
</section>
{% endblock %}
