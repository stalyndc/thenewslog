{% if items is defined and items|length > 0 %}
    <table>
        <thead>
        <tr>
            <th>Title</th>
            <th>Feed</th>
            <th>Published</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody id="inbox-table-body" data-latest-id="{{ latest_id|default(0) }}">
        {% include 'admin/partials/inbox_rows.twig' %}
        </tbody>
    </table>

    {% if total_pages is defined and total_pages > 1 %}
        <nav class="pagination">
            {% if page > 1 %}
                <a class="pagination__link" href="?page={{ page - 1 }}{% if selected_feed_id %}&feed_id={{ selected_feed_id }}{% endif %}"
                   hx-get="/admin/inbox/partial?page={{ page - 1 }}{% if selected_feed_id %}&feed_id={{ selected_feed_id }}{% endif %}"
                   hx-target="#inbox-list"
                   hx-swap="innerHTML"
                   hx-push-url="true">Previous</a>
            {% endif %}
            <span class="pagination__status">Page {{ page }} of {{ total_pages }}</span>
            {% if page < total_pages %}
                <a class="pagination__link" href="?page={{ page + 1 }}{% if selected_feed_id %}&feed_id={{ selected_feed_id }}{% endif %}"
                   hx-get="/admin/inbox/partial?page={{ page + 1 }}{% if selected_feed_id %}&feed_id={{ selected_feed_id }}{% endif %}"
                   hx-target="#inbox-list"
                   hx-swap="innerHTML"
                   hx-push-url="true">Next</a>
            {% endif %}
        </nav>
    {% endif %}
{% else %}
    <div class="empty-state">
        <p>No new items waiting for review.</p>
    </div>
{% endif %}

<input type="hidden" name="after_id" value="{{ latest_id|default(0) }}" id="inbox-after-id" form="inbox-poll-state" hx-swap-oob="true">
<input type="hidden" name="feed_id" value="{{ selected_feed_id|default('') }}" id="inbox-feed-id" form="inbox-poll-state" hx-swap-oob="true">
