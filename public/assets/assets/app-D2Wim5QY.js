function u(t){const n=new Date(t);if(Number.isNaN(n.getTime()))return t;const r=Math.max(0,Date.now()-n.getTime());if(r<36e5){const a=Math.floor(r/6e4)||0;return a<=1?"1 min ago":`${a} min ago`}if(r<864e5){const a=Math.floor(r/36e5);return a<=1?"1 hr ago":`${a} hrs ago`}const e=Math.floor(r/864e5);return e<=1?"1 day ago":`${e} days ago`}function i(){document.querySelectorAll("[data-time]").forEach(t=>{if(t.dataset.timeBound==="1")return;t.dataset.timeBound="1";const n=t.dataset.time;if(!n)return;const r=()=>{t.textContent=u(n)};r();const e=window.setInterval(r,6e4);t.addEventListener("htmx:beforeSwap",()=>window.clearInterval(e),{once:!0})})}function g(t){Array.from(t.querySelectorAll("[data-order-input]")).forEach((r,e)=>{r.value=String(e+1)})}function s(){const t=document.querySelector("[data-reorder-list]");if(!t||t.dataset.reorderBound==="1")return;t.dataset.reorderBound="1";let n=null;Array.from(t.querySelectorAll("[data-id]")).forEach(e=>{e.draggable=!0,e.addEventListener("dragstart",()=>{n=e,e.classList.add("is-dragging")}),e.addEventListener("dragend",()=>{e.classList.remove("is-dragging"),n=null,g(t)}),e.addEventListener("dragover",a=>{a.preventDefault();const o=a.currentTarget;if(!n||n===o)return;const d=o.getBoundingClientRect(),c=a.clientY-d.top<d.height/2;t.insertBefore(n,c?o:o.nextSibling)})})}document.addEventListener("DOMContentLoaded",()=>{i(),s()});document.addEventListener("htmx:afterSwap",()=>{i(),s()});document.addEventListener("click",t=>{const r=t.target.closest("[data-copy]");if(!r)return;const e=r.dataset.copy;e&&navigator.clipboard.writeText(e).catch(()=>{})});
