function l(t){const e=new Date(t);if(Number.isNaN(e.getTime()))return t;const n=Math.max(0,Date.now()-e.getTime());if(n<36e5){const a=Math.floor(n/6e4)||0;return a<=1?"1 min ago":`${a} min ago`}if(n<864e5){const a=Math.floor(n/36e5);return a<=1?"1 hr ago":`${a} hrs ago`}const r=Math.floor(n/864e5);return r<=1?"1 day ago":`${r} days ago`}function i(){document.querySelectorAll("[data-time]").forEach(t=>{if(t.dataset.timeBound==="1")return;t.dataset.timeBound="1";const e=t.dataset.time;if(!e)return;const n=()=>{t.textContent=l(e)};n();const r=window.setInterval(n,6e4);t.addEventListener("htmx:beforeSwap",()=>window.clearInterval(r),{once:!0})})}function g(t){Array.from(t.querySelectorAll("[data-order-input]")).forEach((n,r)=>{n.value=String(r+1)})}function d(){const t=document.querySelector("[data-reorder-list]");if(!t||t.dataset.reorderBound==="1")return;t.dataset.reorderBound="1";let e=null;Array.from(t.querySelectorAll("[data-id]")).forEach(r=>{r.draggable=!0,r.addEventListener("dragstart",()=>{e=r,r.classList.add("is-dragging")}),r.addEventListener("dragend",()=>{r.classList.remove("is-dragging"),e=null,g(t)}),r.addEventListener("dragover",a=>{a.preventDefault();const o=a.currentTarget;if(!e||e===o)return;const s=o.getBoundingClientRect(),u=a.clientY-s.top<s.height/2;t.insertBefore(e,u?o:o.nextSibling)})})}function c(){document.querySelectorAll(".alert[data-auto-dismiss]").forEach(e=>{if(e.dataset.dismissBound==="1")return;const n=parseInt(e.dataset.autoDismiss||"",10);Number.isNaN(n)||n<=0||(e.dataset.dismissBound="1",window.setTimeout(()=>{e.classList.add("is-hidden"),window.setTimeout(()=>{e.remove()},400)},n))})}document.addEventListener("DOMContentLoaded",()=>{i(),d(),c()});document.addEventListener("htmx:afterSwap",()=>{i(),d(),c()});document.addEventListener("click",t=>{const n=t.target.closest("[data-copy]");if(!n)return;const r=n.dataset.copy;r&&navigator.clipboard.writeText(r).catch(()=>{})});
