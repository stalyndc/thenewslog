function Lt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ot={exports:{}},_t=ot.exports,Et;function Dt(){return Et||(Et=1,(function(t,n){(function(e,r){t.exports=r()})(_t,(function(){var e=1e3,r=6e4,u=36e5,d="millisecond",g="second",h="minute",$="hour",m="day",b="week",p="month",D="quarter",S="year",I="date",q="Invalid Date",F=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,W=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,P={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(c){var a=["th","st","nd","rd"],i=c%100;return"["+c+(a[(i-20)%10]||a[i]||a[0])+"]"}},X=function(c,a,i){var s=String(c);return!s||s.length>=a?c:""+Array(a+1-s.length).join(i)+c},B={s:X,z:function(c){var a=-c.utcOffset(),i=Math.abs(a),s=Math.floor(i/60),o=i%60;return(a<=0?"+":"-")+X(s,2,"0")+":"+X(o,2,"0")},m:function c(a,i){if(a.date()<i.date())return-c(i,a);var s=12*(i.year()-a.year())+(i.month()-a.month()),o=a.clone().add(s,p),l=i-o<0,f=a.clone().add(s+(l?-1:1),p);return+(-(s+(i-o)/(l?o-f:f-o))||0)},a:function(c){return c<0?Math.ceil(c)||0:Math.floor(c)},p:function(c){return{M:p,y:S,w:b,d:m,D:I,h:$,m:h,s:g,ms:d,Q:D}[c]||String(c||"").toLowerCase().replace(/s$/,"")},u:function(c){return c===void 0}},L="en",T={};T[L]=P;var R="$isDayjsObject",H=function(c){return c instanceof et||!(!c||!c[R])},tt=function c(a,i,s){var o;if(!a)return L;if(typeof a=="string"){var l=a.toLowerCase();T[l]&&(o=l),i&&(T[l]=i,o=l);var f=a.split("-");if(!o&&f.length>1)return c(f[0])}else{var y=a.name;T[y]=a,o=y}return!s&&o&&(L=o),o||!s&&L},E=function(c,a){if(H(c))return c.clone();var i=typeof a=="object"?a:{};return i.date=c,i.args=arguments,new et(i)},v=B;v.l=tt,v.i=H,v.w=function(c,a){return E(c,{locale:a.$L,utc:a.$u,x:a.$x,$offset:a.$offset})};var et=(function(){function c(i){this.$L=tt(i.locale,null,!0),this.parse(i),this.$x=this.$x||i.x||{},this[R]=!0}var a=c.prototype;return a.parse=function(i){this.$d=(function(s){var o=s.date,l=s.utc;if(o===null)return new Date(NaN);if(v.u(o))return new Date;if(o instanceof Date)return new Date(o);if(typeof o=="string"&&!/Z$/i.test(o)){var f=o.match(F);if(f){var y=f[2]-1||0,w=(f[7]||"0").substring(0,3);return l?new Date(Date.UTC(f[1],y,f[3]||1,f[4]||0,f[5]||0,f[6]||0,w)):new Date(f[1],y,f[3]||1,f[4]||0,f[5]||0,f[6]||0,w)}}return new Date(o)})(i),this.init()},a.init=function(){var i=this.$d;this.$y=i.getFullYear(),this.$M=i.getMonth(),this.$D=i.getDate(),this.$W=i.getDay(),this.$H=i.getHours(),this.$m=i.getMinutes(),this.$s=i.getSeconds(),this.$ms=i.getMilliseconds()},a.$utils=function(){return v},a.isValid=function(){return this.$d.toString()!==q},a.isSame=function(i,s){var o=E(i);return this.startOf(s)<=o&&o<=this.endOf(s)},a.isAfter=function(i,s){return E(i)<this.startOf(s)},a.isBefore=function(i,s){return this.endOf(s)<E(i)},a.$g=function(i,s,o){return v.u(i)?this[s]:this.set(o,i)},a.unix=function(){return Math.floor(this.valueOf()/1e3)},a.valueOf=function(){return this.$d.getTime()},a.startOf=function(i,s){var o=this,l=!!v.u(s)||s,f=v.p(i),y=function(j,k){var A=v.w(o.$u?Date.UTC(o.$y,k,j):new Date(o.$y,k,j),o);return l?A:A.endOf(m)},w=function(j,k){return v.w(o.toDate()[j].apply(o.toDate("s"),(l?[0,0,0,0]:[23,59,59,999]).slice(k)),o)},x=this.$W,M=this.$M,_=this.$D,U="set"+(this.$u?"UTC":"");switch(f){case S:return l?y(1,0):y(31,11);case p:return l?y(1,M):y(0,M+1);case b:var N=this.$locale().weekStart||0,z=(x<N?x+7:x)-N;return y(l?_-z:_+(6-z),M);case m:case I:return w(U+"Hours",0);case $:return w(U+"Minutes",1);case h:return w(U+"Seconds",2);case g:return w(U+"Milliseconds",3);default:return this.clone()}},a.endOf=function(i){return this.startOf(i,!1)},a.$set=function(i,s){var o,l=v.p(i),f="set"+(this.$u?"UTC":""),y=(o={},o[m]=f+"Date",o[I]=f+"Date",o[p]=f+"Month",o[S]=f+"FullYear",o[$]=f+"Hours",o[h]=f+"Minutes",o[g]=f+"Seconds",o[d]=f+"Milliseconds",o)[l],w=l===m?this.$D+(s-this.$W):s;if(l===p||l===S){var x=this.clone().set(I,1);x.$d[y](w),x.init(),this.$d=x.set(I,Math.min(this.$D,x.daysInMonth())).$d}else y&&this.$d[y](w);return this.init(),this},a.set=function(i,s){return this.clone().$set(i,s)},a.get=function(i){return this[v.p(i)]()},a.add=function(i,s){var o,l=this;i=Number(i);var f=v.p(s),y=function(M){var _=E(l);return v.w(_.date(_.date()+Math.round(M*i)),l)};if(f===p)return this.set(p,this.$M+i);if(f===S)return this.set(S,this.$y+i);if(f===m)return y(1);if(f===b)return y(7);var w=(o={},o[h]=r,o[$]=u,o[g]=e,o)[f]||1,x=this.$d.getTime()+i*w;return v.w(x,this)},a.subtract=function(i,s){return this.add(-1*i,s)},a.format=function(i){var s=this,o=this.$locale();if(!this.isValid())return o.invalidDate||q;var l=i||"YYYY-MM-DDTHH:mm:ssZ",f=v.z(this),y=this.$H,w=this.$m,x=this.$M,M=o.weekdays,_=o.months,U=o.meridiem,N=function(k,A,J,nt){return k&&(k[A]||k(s,l))||J[A].slice(0,nt)},z=function(k){return v.s(y%12||12,k,"0")},j=U||function(k,A,J){var nt=k<12?"AM":"PM";return J?nt.toLowerCase():nt};return l.replace(W,(function(k,A){return A||(function(J){switch(J){case"YY":return String(s.$y).slice(-2);case"YYYY":return v.s(s.$y,4,"0");case"M":return x+1;case"MM":return v.s(x+1,2,"0");case"MMM":return N(o.monthsShort,x,_,3);case"MMMM":return N(_,x);case"D":return s.$D;case"DD":return v.s(s.$D,2,"0");case"d":return String(s.$W);case"dd":return N(o.weekdaysMin,s.$W,M,2);case"ddd":return N(o.weekdaysShort,s.$W,M,3);case"dddd":return M[s.$W];case"H":return String(y);case"HH":return v.s(y,2,"0");case"h":return z(1);case"hh":return z(2);case"a":return j(y,w,!0);case"A":return j(y,w,!1);case"m":return String(w);case"mm":return v.s(w,2,"0");case"s":return String(s.$s);case"ss":return v.s(s.$s,2,"0");case"SSS":return v.s(s.$ms,3,"0");case"Z":return f}return null})(k)||f.replace(":","")}))},a.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},a.diff=function(i,s,o){var l,f=this,y=v.p(s),w=E(i),x=(w.utcOffset()-this.utcOffset())*r,M=this-w,_=function(){return v.m(f,w)};switch(y){case S:l=_()/12;break;case p:l=_();break;case D:l=_()/3;break;case b:l=(M-x)/6048e5;break;case m:l=(M-x)/864e5;break;case $:l=M/u;break;case h:l=M/r;break;case g:l=M/e;break;default:l=M}return o?l:v.a(l)},a.daysInMonth=function(){return this.endOf(p).$D},a.$locale=function(){return T[this.$L]},a.locale=function(i,s){if(!i)return this.$L;var o=this.clone(),l=tt(i,s,!0);return l&&(o.$L=l),o},a.clone=function(){return v.w(this.$d,this)},a.toDate=function(){return new Date(this.valueOf())},a.toJSON=function(){return this.isValid()?this.toISOString():null},a.toISOString=function(){return this.$d.toISOString()},a.toString=function(){return this.$d.toUTCString()},c})(),wt=et.prototype;return E.prototype=wt,[["$ms",d],["$s",g],["$m",h],["$H",$],["$W",m],["$M",p],["$y",S],["$D",I]].forEach((function(c){wt[c[1]]=function(a){return this.$g(a,c[0],c[1])}})),E.extend=function(c,a){return c.$i||(c(a,et,E),c.$i=!0),E},E.locale=tt,E.isDayjs=H,E.unix=function(c){return E(1e3*c)},E.en=T[L],E.Ls=T,E.p={},E}))})(ot)),ot.exports}var At=Dt();const Tt=Lt(At);var at={exports:{}},Ct=at.exports,xt;function Ot(){return xt||(xt=1,(function(t,n){(function(e,r){t.exports=r()})(Ct,(function(){return function(e,r,u){e=e||{};var d=r.prototype,g={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function h(m,b,p,D){return d.fromToBase(m,b,p,D)}u.en.relativeTime=g,d.fromToBase=function(m,b,p,D,S){for(var I,q,F,W=p.$locale().relativeTime||g,P=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],X=P.length,B=0;B<X;B+=1){var L=P[B];L.d&&(I=D?u(m).diff(p,L.d,!0):p.diff(m,L.d,!0));var T=(e.rounding||Math.round)(Math.abs(I));if(F=I>0,T<=L.r||!L.r){T<=1&&B>0&&(L=P[B-1]);var R=W[L.l];S&&(T=S(""+T)),q=typeof R=="string"?R.replace("%d",T):R(T,b,L.l,F);break}}if(b)return q;var H=F?W.future:W.past;return typeof H=="function"?H(q):H.replace("%s",q)},d.to=function(m,b){return h(m,b,this,!0)},d.from=function(m,b){return h(m,b,this)};var $=function(m){return m.$u?u.utc():u()};d.toNow=function(m){return this.to($(this),m)},d.fromNow=function(m){return this.from($(this),m)}}}))})(at)),at.exports}var qt=Ot();const Bt=Lt(qt);Tt.extend(Bt);function Ht(t){const n=Tt(t);return n.isValid()?n.fromNow():t}function Nt(){document.querySelectorAll("[data-time]").forEach(t=>{if(t.dataset.timeBound==="1")return;t.dataset.timeBound="1";const n=t.dataset.time;if(!n)return;const e=()=>{t.textContent=Ht(n)};e();const r=window.setInterval(e,6e4);t.addEventListener("htmx:beforeSwap",()=>window.clearInterval(r),{once:!0})})}function jt(t){const n=document.getElementById(t);if(n)return n;const e=document.createElement("div");return e.id=t,e.className="toast-stack",e.setAttribute("aria-live","polite"),document.body.appendChild(e),e}function Rt(t,n,e={}){const r=e.variant??"info",u=document.createElement("div");u.className=`toast toast--${r}`;const d=document.createElement("span");if(d.textContent=n,u.appendChild(d),e.onAction&&e.actionLabel){const h=document.createElement("button");h.type="button",h.textContent=e.actionLabel,h.addEventListener("click",()=>{e.onAction&&e.onAction(),u.remove()}),u.appendChild(h)}t.appendChild(u);const g=e.timeout??6e3;g>0&&window.setTimeout(()=>{u.classList.add("is-hidden"),window.setTimeout(()=>u.remove(),400)},g)}function K(t,n,e={}){const r=jt(t);r&&Rt(r,n,e)}let O=null,lt=null,ft=null,rt=!1,it=null,ut={},Y=null,St=!1;function st(t){const n={};return Array.from(t.querySelectorAll("[data-id]")).forEach((r,u)=>{const d=r.dataset.id;d&&(n[d]=u+1)}),n}function kt(t,n){const e=Object.keys(t);return e.length!==Object.keys(n).length?!1:e.every(r=>t[r]===n[r])}function It(t){Array.from(t.querySelectorAll("[data-order-input]")).forEach((e,r)=>{e.value=String(r+1)})}function Ut(t,n){Array.from(t.querySelectorAll("[data-id]")).sort((r,u)=>{const d=r.dataset.id??"",g=u.dataset.id??"";return(n[d]??Number.MAX_SAFE_INTEGER)-(n[g]??Number.MAX_SAFE_INTEGER)}).forEach(r=>t.appendChild(r)),It(t)}function Mt(t,n){const e={};return Object.entries(t).forEach(([r,u])=>{e[`${n}[${r}]`]=String(u)}),e}function bt(t,n){if(!O||!lt||kt(t,ut))return;if(rt){it={current:t,previous:n};return}const e={};ft?.value&&(e._token=ft.value),Object.assign(e,Mt(t,"positions")),n&&Object.assign(e,Mt(n,"previous_positions")),rt=!0;const r=htmx.ajax("POST",lt,{values:e,target:"#edition-toast",swap:"none"});r&&r.addEventListener?r.addEventListener("loadend",()=>{if(rt=!1,ut={...t},it){const u=it;it=null,bt(u.current,u.previous)}}):rt=!1}function Vt(){if(!O||!Y)return;const t=st(O),n={...Y};Ut(O,n),bt(n,t),Y=null}function Yt(){St||(St=!0,document.body.addEventListener("edition:order-saved",t=>{if(O||(O=document.querySelector("[data-reorder-list]")),!O)return;const e=t.detail??{};Y=e.undo?{...e.undo}:null;const r=e.message??"Edition order updated.",u=e.variant??"info";K("edition-toast",r,{variant:u,actionLabel:Y?"Undo":void 0,onAction:Y?()=>Vt():null})}))}function Ft(){const t=document.querySelector("[data-reorder-list]");if(!t||t.dataset.reorderBound==="1")return;const n=t.dataset.reorderEndpoint;if(!n)return;Yt(),t.dataset.reorderBound="1",O=t,lt=n,ft=t.closest("form")?.querySelector('input[name="_token"]')??null,ut=st(t);let r=null,u={...ut};Array.from(t.querySelectorAll("[data-id]")).forEach(g=>{g.draggable=!0,g.addEventListener("dragstart",()=>{r=g,u=st(t),g.classList.add("is-dragging")}),g.addEventListener("dragend",()=>{g.classList.remove("is-dragging"),r=null,It(t);const h=st(t);kt(h,u)||bt(h,u)}),g.addEventListener("dragover",h=>{h.preventDefault();const $=h.currentTarget;if(!r||r===$)return;const m=$.getBoundingClientRect(),b=h.clientY-m.top<m.height/2;t.insertBefore(r,b?$:$.nextSibling)})})}function Wt(t){const n=t.replace(/\s+/g," ").trim();return n?n.split(" ").length:0}function Pt(t){const n=t.el,e=document.getElementById(t.outputHtmlInputId),r=document.getElementById(t.outputTextInputId);let u=null;e&&e.value&&n.innerHTML.trim()===""&&(n.innerHTML=e.value),n.setAttribute("contenteditable","true"),n.setAttribute("role","textbox"),n.setAttribute("aria-multiline","true");const d=()=>{const m=n.innerHTML,b=n.textContent||"";e&&(e.value=m),r&&(r.value=b,r.dispatchEvent(new Event("input",{bubbles:!0})),r.dispatchEvent(new Event("change",{bubbles:!0})));const p=t.wordLimit??250,D=Wt(b),S=n.closest(".form-group")?.querySelector("[data-wordcount]");S&&(S.textContent=`${D}/${p} words`);const I=n.closest(".form-group")?.querySelector("[data-wordhint]");I&&I.classList.toggle("is-visible",D>p)},g=()=>{const m=window.getSelection();m&&m.rangeCount>0&&n.contains(m.anchorNode)&&(u=m.getRangeAt(0).cloneRange())};n.addEventListener("input",()=>{g(),d()}),n.addEventListener("blur",d),n.addEventListener("keyup",g),n.addEventListener("mouseup",g),d();const $=(n.closest(".form-group")||n.parentElement)?.querySelector(".editor-toolbar");$&&($.querySelectorAll("[data-cmd]").forEach(m=>{m.addEventListener("mousedown",b=>{b.preventDefault()})}),$.addEventListener("click",m=>{const b=m.target.closest("[data-cmd]");if(!b)return;m.preventDefault(),n.focus();const p=window.getSelection();switch(p&&p.rangeCount===0&&u&&p.addRange(u),b.getAttribute("data-cmd")){case"bold":document.execCommand("bold");break;case"italic":document.execCommand("italic");break;case"bullet":document.execCommand("insertUnorderedList");break;case"ordered":document.execCommand("insertOrderedList");break;case"blockquote":document.execCommand("formatBlock",!1,"blockquote");break;case"code":document.execCommand("formatBlock",!1,"pre");break;case"undo":document.execCommand("undo");break;case"redo":document.execCommand("redo");break;case"clear":n.innerHTML="";break}g(),d()}))}function mt(){document.querySelectorAll("[data-editor]").forEach(t=>{const n=t.getAttribute("data-output-html")||"",e=t.getAttribute("data-output-text")||"",r=parseInt(t.getAttribute("data-word-limit")||"250",10);Pt({el:t,outputHtmlInputId:n,outputTextInputId:e,wordLimit:r})})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",mt,{once:!0}):mt();function Xt(){document.querySelectorAll(".alert[data-auto-dismiss]").forEach(n=>{if(n.dataset.dismissBound==="1")return;const e=parseInt(n.dataset.autoDismiss||"",10);Number.isNaN(e)||e<=0||(n.dataset.dismissBound="1",window.setTimeout(()=>{n.classList.add("is-hidden"),window.setTimeout(()=>{n.remove()},400)},e))})}function zt(){window.__editionInfiniteBound||(window.__editionInfiniteBound=!0,document.body.addEventListener("editions:page-loaded",t=>{const e=t.detail??{},r=document.getElementById("edition-list");if(r&&(typeof e.page=="number"&&(r.dataset.editionsCurrent=String(e.page)),!e.next)){const u=document.querySelector(".pagination--fallback");u&&u.classList.add("is-hidden")}}))}function Jt(){window.__inboxBound||(window.__inboxBound=!0,document.body.addEventListener("inbox:updated",t=>{const e=t.detail??{},r=document.getElementById("inbox-after-id"),u=document.getElementById("inbox-table-body"),d=document.getElementById("admin-inbox-link"),g=d&&d.dataset.inboxCount?Number(d.dataset.inboxCount):0;if(typeof e.latest_id=="number"&&r){const h=Number(r.value||"0");e.latest_id>h&&(r.value=String(e.latest_id))}if(u&&typeof e.latest_id=="number"&&(u.dataset.latestId=String(e.latest_id)),d&&typeof e.count=="number"&&(d.dataset.inboxCount=String(e.count),d.textContent=e.count>0?`Inbox (${e.count})`:"Inbox"),d&&typeof e.count=="number"&&e.count>g){const h=e.count-g;K("inbox-toast",h===1?"1 new inbox item ready.":`${h} new inbox items ready.`,{variant:"info",timeout:5e3})}}))}let V=null,gt="/admin/tags/suggest",ht="/admin/tags/validate",C=null,Z=null,dt="",pt="";function yt(){return V&&document.body.contains(V)||(V=document.querySelector("[data-tags-input]")??null),V}function $t(){return document.getElementById("tag-suggestions")}function Zt(){return document.getElementById("tag-feedback")}function Gt(t){return t.split(",").map(n=>n.trim()).filter(n=>n.length>0)}function Qt(t){const n=t.split(",").map(u=>u.trim());if(n.length===0)return{active:"",existing:[]};const e=n.pop()??"",r=n.filter(u=>u.length>0);return{active:e,existing:r}}function Kt(t){return t.join(", ")}function Q(){C&&(C.abort(),C=null);const t=$t();t&&(t.innerHTML=""),dt=""}function ct(t=!1){const n=yt(),e=$t();if(!n||!e)return;const r=n.value;if(r.trim()===""){Q();return}if(!t&&r===dt)return;C&&C.abort();const d=Qt(r),g=new URLSearchParams;g.set("tags",d.active),g.set("tags_full",r),d.existing.length>0&&g.set("existing",d.existing.join(", ")),C=new AbortController,fetch(`${gt}?${g.toString()}`,{credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"text/html"},signal:C.signal}).then(h=>{if(!h.ok)throw new Error(`Failed to fetch tag suggestions: ${h.status}`);return h.text()}).then(h=>{e.innerHTML=h,dt=r}).catch(h=>{h.name!=="AbortError"&&(console.error("Tag suggestion fetch failed",h),Q())}).finally(()=>{C=null})}function G(t=!1){const n=yt(),e=Zt();if(!n||!e)return;const r=n.value;if(!t&&r===pt)return;Z&&Z.abort();const u=new URLSearchParams;u.set("tags",r),Z=new AbortController,fetch(`${ht}?${u.toString()}`,{credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"text/html"},signal:Z.signal}).then(d=>{if(!d.ok)throw new Error(`Failed to validate tags: ${d.status}`);return d.text()}).then(d=>{e.innerHTML=d,pt=r}).catch(d=>{d.name!=="AbortError"&&console.error("Tag validation fetch failed",d)}).finally(()=>{Z=null})}function te(){const t=document.querySelector("[data-tags-input]");if(!t||t.dataset.helperBound==="1")return;V=t,gt=t.dataset.tagsSuggestUrl??gt,ht=t.dataset.tagsValidateUrl??ht,dt="",pt="",t.dataset.helperBound="1",t.setAttribute("autocomplete","off"),t.addEventListener("blur",()=>{window.setTimeout(()=>{G()},150)}),t.addEventListener("change",()=>{G(!0)});let n,e;const r=()=>{typeof n<"u"&&window.clearTimeout(n),n=window.setTimeout(()=>{G()},250)},u=()=>{typeof e<"u"&&window.clearTimeout(e),e=window.setTimeout(()=>{ct()},150)};t.addEventListener("input",()=>{r(),u()}),t.addEventListener("focus",()=>{ct(!0)}),G(!0),window.__tagSuggestionHandler||(window.__tagSuggestionHandler=!0,document.addEventListener("click",d=>{const g=d.target,h=g.closest(".tag-suggestion"),$=yt(),m=$t();if(!(!$||!m)){if(h){const b=h.dataset.tagName;if(!b)return;const p=Gt($.value);p.some(S=>S.toLowerCase()===b.toLowerCase())||(p.push(b),$.value=Kt(p),$.dispatchEvent(new Event("change",{bubbles:!0}))),Q(),$.focus(),G(!0),ct(!0);return}!g.closest("#tag-suggestions")&&!g.closest("[data-tags-input]")&&Q()}}))}function ee(){Nt(),Ft(),Xt(),zt(),Jt(),te(),mt()}const vt=()=>{ee()};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",vt,{once:!0}):vt();document.addEventListener("htmx:afterSwap",()=>{vt()});document.addEventListener("htmx:responseError",t=>{const e=(t.detail||{}).xhr?.status,r=typeof e=="number"&&e>0?`Request failed (${e}). Please try again.`:"Request failed. Please try again.";K("app-toasts",r,{variant:"warn",timeout:6e3})});document.addEventListener("htmx:sendError",()=>{K("app-toasts","Network error. Please check your connection.",{variant:"warn",timeout:6e3})});document.addEventListener("htmx:timeout",()=>{K("app-toasts","Request timed out. Please retry.",{variant:"warn",timeout:6e3})});document.addEventListener("click",t=>{const e=t.target.closest("[data-copy]");if(!e)return;const r=e.dataset.copy;r&&navigator.clipboard.writeText(r).catch(()=>{})});document.addEventListener("keydown",t=>{t.key==="Escape"&&Q()});
